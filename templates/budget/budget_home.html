<!DOCTYPE html>
<html>
<head>
    <title>Budget Dashboard</title>
</head>
<body>

<h1>Budget Dashboard</h1>

<p><strong>Total Income:</strong> {{ total_income }}</p>
<p><strong>Total Expense:</strong> {{ total_expense }}</p>
<p><strong>Balance:</strong> {{ balance }}</p>

<hr>

<h2>Incomes</h2>

<table border="1" cellpadding="8">
    <tr>
        <th>Date</th>
        <th>Source</th>
        <th>Amount</th>
        <th>Action</th>
    </tr>

    {% for income in incomes %}
    <tr>
        <td>{{ income.date }}</td>
        <td>{{ income.source }}</td>
        <td>{{ income.amount }}</td>
        <td>
            <a href="{% url 'update_income' income.id %}">Edit</a> |
            <a href="{% url 'delete_income' income.id %}"
               onclick="return confirm('Are you sure you want to delete this income?')">
               Delete
            </a>
        </td>
    </tr>
    {% empty %}
    <tr>
        <td colspan="4">No income added yet.</td>
    </tr>
    {% endfor %}
</table>

<br>
<a href="{% url 'add_income' %}">Add Income</a>

<hr>

<h2>Expenses</h2>

<table border="1" cellpadding="8">
    <tr>
        <th>Date</th>
        <th>Description</th>
        <th>Amount</th>
        <th>Action</th>
    </tr>

    {% for expense in expenses %}
    <tr>
        <td>{{ expense.date }}</td>
        <td>{{ expense.description }}</td>
        <td>{{ expense.amount }}</td>
        <td>
            <a href="{% url 'update_expense' expense.id %}">Edit</a> |
            <a href="{% url 'delete_expense' expense.id %}"
               onclick="return confirm('Are you sure you want to delete this expense?')">
               Delete
            </a>
        </td>
    </tr>
    {% empty %}
    <tr>
        <td colspan="4">No expense added yet.</td>
    </tr>
    {% endfor %}
</table>

<br>
<a href="{% url 'add_expense' %}">Add Expense</a>

<hr>

<h2>Categories</h2>

<table border="1" cellpadding="8">
    <tr>
        <th>Category Name</th>
        <th>Action</th>
    </tr>

    {% for category in categories %}
    <tr>
        <td>{{ category.name }}</td>
        <td>
            <a href="{% url 'update_category' category.id %}">Edit</a> |
            <a href="{% url 'delete_category' category.id %}"
               onclick="return confirm('Are you sure you want to delete this category?')">
               Delete
            </a>
        </td>
    </tr>
    {% empty %}
    <tr>
        <td colspan="2">No categories added yet.</td>
    </tr>
    {% endfor %}
</table>

<br>
<a href="{% url 'add_category' %}">Add Category</a>


</body>
</html>
